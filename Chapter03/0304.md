## โครงสร้างการทำงานแบบเงื่อนไขทางเลือกและทำซ้ำในภาษาพีเอชพี

การใช้คำสั่งตรวจสอบเงื่อนไขและการวนรอบ เป็นการควบคุมทิศทางขั้นตอนตามวิธีการทางคอมพิวเตอร์ ไม่ว่าจะเป็นการกำหนดทางเลือกเพื่อแก้ไขปัญหาและการวนรอบทำงานซ้ำงานหลายครั้งตามเงื่อนไขที่กำหนด (ธันยพัฒน์ วงศ์รัตน์, 2556)

### สัญลักษณ์ตัวดำเนินการเชิงเปรียบเทียบและการเชื่อมเงื่อนไข

| ตัวดำเนินการ |	ความหมาย |	ตัวอย่างการใช้งาน |
| --- | --- | --- |
| < |	น้อยกว่า |	($x < $y) |
| <= |	น้อยกว่าเท่ากับ |	($salary <= 40000) |
| > |	มากกว่า |	($x > 100) |
| >= |	มากกว่า |	($age >= 18) |
| == |	เท่ากับ |	($gender == "Male") |
| != |	ไม่เท่ากับ |	($score != NULL) |
| && |	ตัวเชื่อม และ |	(($gender == "Male") && ($score != NULL)) |
| || |	ตัวเชื่อม หรือ |	(($age >= 18) || ($gender == "Male")) |


### การสร้างเงื่อนไขทางเลือก
เงื่อนไขทางเลือกเป็นคำสั่งใช้ในการสร้างทางเลือกเพื่อทำงานตามที่ได้กำหนด รูปแบบการสร้างเงื่อนไขจะใช้นิพจน์ที่ให้ค่าความจริง 

* การสร้างเงื่อนไขแบบทางเลือกเดียว มีรูปแบบการเขียนคำสั่ง ดังนี้

```
if(เงื่อนไข) {
    คำสั่งภาษาพีเอชพี;
}
```

มีตัวอย่างการใช้งานคำสั่ง ดังนี้

```
01:<?php
02:	    $RATE = 40000;
03:	    $salary = 35000;
04:	    if($salary<$RATE) {
05:	        echo $salary." < ".$RATE."<BR>";
06:	    }
07:?>
```

[ดาวน์โหลด source code](src/ch03_09.php)

ได้ผลลัพธ์ ดังภาพ

<img src=img/0310.png>

* การสร้างเงื่อนไขแบบสองทางเลือก มีรูปแบบการเขียนคำสั่ง ดังนี้

```
if(เงื่อนไข) {
    คำสั่งภาษาพีเอชพี;
} else {
    คำสั่งภาษาพีเอชพี;
}
```

มีตัวอย่างการใช้งานคำสั่ง ดังนี้

```
01:<?php
02:	    $RATE = 40000;
03:	    $salary = 45000;
04:	    if($salary<$RATE) {
05:	        echo $salary." < ".$RATE."<BR>";
06:	    } else {
07:	        echo $salary." >= ".$RATE."<BR>";
08:	    }
09:?>
```

[ดาวน์โหลด source code](src/ch03_10.php)

ได้ผลลัพธ์ ดังภาพ

<img src=img/0311.png>

* การสร้างเงื่อนไขแบบหลายทางเลือก มีรูปแบบการเขียนคำสั่ง ดังนี้

```
if(เงื่อนไข1) {
    คำสั่งภาษาพีเอชพี;
} elseif (เงื่อนไข2) {
    คำสั่งภาษาพีเอชพี;
}
    ....................
} elseif (เงื่อนไขn) {
    คำสั่งภาษาพีเอชพี; 
} else {
    คำสั่งภาษาพีเอชพี;
}
```

มีตัวอย่างการใช้งานคำสั่ง ดังนี้

```
01:<?php
02:	    $S = 200000;
03:	    $M = 5000000;
04:	    $L =10000000;
05:	    $budget = 250000;
06:	    if($budget >=$L) {
07:	       echo "Large Project<BR>";
08:	    } elseif($budget>=$M) {
09:	       echo "Meduim Project<BR>";
10:	    } elseif($budget>=$S) {
11:	       echo "Small Project<BR>";
12:	    } else {
13:	       echo "Activity<BR>";
14:	    }
15:?>
```

[ดาวน์โหลด source code](src/ch03_11.php)

ได้ผลลัพธ์ ดังภาพ

<img src=img/0312.png>

* การสร้างเงื่อนไขแบบสวิตซ์ มีรูปแบบการเขียนคำสั่ง ดังนี้

```
switch(ตัวแปรเงื่อนไข) {
    case ค่าที่ 1 ของตัวแปร: คำสั่งภาษาพีเอชพี; break;
    case ค่าที่ 2 ของตัวแปร: คำสั่งภาษาพีเอชพี; break;
    ...........................................
    case ค่าที่ n ของตัวแปร: คำสั่งภาษาพีเอชพี; break;
    default: คำสั่งภาษาพีเอชพี;
}
```

มีตัวอย่างการใช้งานคำสั่ง ดังนี้

```
01:<?php
02:	$page="news";
03:	switch($page) {
04:	    case "main": include('pages/main.php'); break;
05:	    case "news": include('pages/news.php'); break;
06:	    case "contact": include('pages/contact.php'); break;
07:	    case "about": include('pages/about.php'); break;
08:	    default:  include('pages/main.php');
09:	}
10:?>
```

[ดาวน์โหลด source code](src/ch03_12.php)

ได้ผลลัพธ์ ดังภาพ

<img src=img/0313.png>

### การวนรอบทำซ้ำ
* การวนรอบทำซ้ำแบบ for() มีรูปแบบการเขียนคำสั่ง ดังนี้

```
for(กำหนดค่าเริ่มต้น; เงื่อนไข; การเปลี่ยนแปลงค่า) {
    คำสั่งภาษาพีเอชพี;
}
```

ตามโครงสร้างข้างต้น สามารถเขียนได้ดังตัวอย่างโปรแกรม

```
01:<?php
02:	$ROUND=5;
03:	for($i=1; $i<=$ROUND; $i++){
04:	    echo $i."<BR>";
05:	}
06:?>
```

[ดาวน์โหลด source code](src/ch03_13.php)

จากตัวอย่างโปรแกรมแสดงผลลัพธ์ภาพ

<img src=img/0313.png>

* การวนรอบแบบ while() มีรูปแบบการเขียนคำสั่ง ดังนี้

```
while(เงื่อนไข) {
    คำสั่งภาษาพีเอชพี;
}
```

ตามโครงสร้างข้างต้นสามารถเขียนได้ดังตัวอย่างโปรแกรม

```
01:<?php
02:	$rows = array(
03:	    "ปากกา" => 15,
04:	    "ดินสอ" => 10, 
05:	    "สมุด" => 25,
06:	    "ยางลบ" => 8,
07:	    "ไม้บรรทัด" => 12);
08:	$i=1;
09:	echo "<TABLE border='1'>";
10:	echo "<TR><TH>รายการ</TH><TH>ราคา</TH></TR>";
11:	while(list($name, $price) = each($rows)){
12:	  echo "<TR align='center'>";
13:	  echo "<TD>".$name."</TD>";
14:	  echo "<TD>".$price."</TD>";
15:	  echo "</TR>";
16:	  $i++;
17:	}
18:	echo "</TABLE>";
19:?>
```

[ดาวน์โหลด source code](src/ch03_14.php)

จากตัวอย่างโปรแกรมแสดงผลลัพธ์ภาพ

<img src=img/0314.png>

* การวนรอบแบบ do…while() มีรูปแบบการเขียนคำสั่ง ดังนี้

```
do {
    คำสั่งภาษาพีเอชพี;
} while(เงื่อนไข);
```

ตามโครงสร้างข้างต้น สามารถเขียนได้ดังตัวอย่างโปรแกรม

```
01:<?php
02:	$i=1;
03:	echo "<TABLE border='1'>";
04:	echo "<TR><TH>สุ่มรอบที่</TH><TH>ค่าที่สุ่มได้ (0-99)</TH></TR>";
05:	do{
06:	    $ran = rand(0,99);
07:	    echo "<TR align='center'>";
08:	    echo "<TD>".$i."</TD>";
09:	    echo "<TD>".$ran."</TD>";
10:	    echo "</TR>";
11:	    $i++;
12:	} while($ran%5 != 0);
13:?>
```

[ดาวน์โหลด source code](src/ch03_15.php)

จากตัวอย่างโปรแกรมแสดงผลลัพธ์ภาพ

<img src=img/0315.png>

ได้ผลลัพธ์ ดังภาพ

<img src=output/ch03_15.png>

** หมายเหตุ: ผลลัพธ์แล้วแต่การสุ่มที่ได้

* การวนรอบทำซ้ำแบบ foreach() แบบที่ใช้กับโครงสร้างอาเรย์ทั่วไป มีรูปแบบการเขียนคำสั่ง ดังนี้

```
foreach(ตัวแปรอาเรย์ as ตัวแปรที่จะเก็บค่า) {
    คำสั่งภาษาพีเอชพี;
}
```

ตามโครงสร้างอาเรย์ทั่วไป สามารถเขียนโปรแกรมการใช้งานคำสั่ง foreach() กับอาเรย์มิติเดียว ดังโปรแกรม

```
01:<?php
02:	$score = array(5, 10, 15, 20, 25);
03:	foreach($score as $num){
04:	   echo $num."<BR>";
05:	}
06:?>
```

[ดาวน์โหลด source code](src/ch03_16.php)

จากตัวอย่างโปรแกรมแสดงผลลัพธ์ภาพ

<img src=img/0316.png>

* การวนรอบทำซ้ำแบบ foreach() แบบที่ใช้กับโครงสร้างอาเรย์สองมิติ มีรูปแบบการเขียนคำสั่ง ดังนี้

```
foreach(ตัวแปรอาเรย์ as ตัวแปรคีย์ => ตัวแปรค่า) {
    คำสั่งภาษาพีเอชพี;
}
```

ตามโครงสร้างอาเรย์สองมิติ สามารถเขียนโปรแกรมการใช้งานคำสั่ง foreach() กับอาเรย์แบบคู่ ดังโปรแกรม

```
01:<?php
02:	$rows = array(
03:	    "ปากกา" => 15,
04:	    "ดินสอ" => 10, 
05:	    "สมุด" => 25,
06:	    "ยางลบ" => 8,
07:	    "ไม้บรรทัด" => 12
08:	);
09:	echo "<TABLE border='1'>";
10:	echo "<TR><TH>รายการ</TH><TH>ราคา</TH></TR>";
11:	foreach($rows as $name => $price){
12:	  echo "<TR align='center'>";
13:	  echo "<TD>".$name."</TD>";
14:	  echo "<TD>".$price."</TD>";
15:	  echo "</TR>";
16:	}
17:	echo "</TABLE>";
18:?>
```

[ดาวน์โหลด source code](src/ch03_17.php)

จากตัวอย่างโปรแกรมแสดงผลลัพธ์ภาพ

<img src=img/0317.png>

---
#### [<< หน้าก่อนหน้า](0303.md) | [หน้าเลือกหัวข้อ](README.md) | [หน้าต่อไป >>](0305.md)
---
